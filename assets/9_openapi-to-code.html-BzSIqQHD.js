import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,e as a,o as n}from"./app-DAvQOTm3.js";const l={};function t(h,e){return n(),s("div",null,e[0]||(e[0]=[a(`<h1 id="将openapi-swagger-生成代码" tabindex="-1"><a class="header-anchor" href="#将openapi-swagger-生成代码"><span>将OpenApi(swagger)生成代码</span></a></h1><p>使用这个工具可以将 OpenApi 的本地或远程文档解析生成 WebApiClientCore 的接口定义代码文件，<code>ASP.NET Core</code> 的 swagger json 文件也适用</p><h2 id="安装工具" tabindex="-1"><a class="header-anchor" href="#安装工具"><span>安装工具</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dotnet</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tool</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> WebApiClientCore.OpenApi.SourceGenerator</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="使用工具" tabindex="-1"><a class="header-anchor" href="#使用工具"><span>使用工具</span></a></h2><p>运行以下命令，会将对应的 WebApiClientCore 的接口定义代码文件输出到当前目录的 output 文件夹下</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#举例</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WebApiClientCore.OpenApi.SourceGenerator</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://petstore.swagger.io/v2/swagger.json</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="命令介绍" tabindex="-1"><a class="header-anchor" href="#命令介绍"><span>命令介绍</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>  -o OpenApi, --openapi=OpenApi          Required. openApi的json本地文件路径或远程Uri地址</span></span>
<span class="line"><span>  -n Namespace, --namespace=Namespace    代码的命名空间，如WebApiClientCore</span></span>
<span class="line"><span>  --help                                 Display this help screen.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="工具原理" tabindex="-1"><a class="header-anchor" href="#工具原理"><span>工具原理</span></a></h3><ol><li>使用 NSwag 解析 OpenApi 的 json 得到 OpenApiDocument 对象</li><li>使用 RazorEngine 将 OpenApiDocument 传入 cshtml 模板编译得到 html</li><li>使用 XDocument 将 html 的文本代码提取，得到 WebApiClientCore 的声明式代码</li><li>代码美化，输出到本地文件</li></ol>`,11)]))}const d=i(l,[["render",t],["__file","9_openapi-to-code.html.vue"]]),o=JSON.parse('{"path":"/guide/9_openapi-to-code.html","title":"将OpenApi(swagger)生成代码","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"安装工具","slug":"安装工具","link":"#安装工具","children":[]},{"level":2,"title":"使用工具","slug":"使用工具","link":"#使用工具","children":[{"level":3,"title":"命令介绍","slug":"命令介绍","link":"#命令介绍","children":[]},{"level":3,"title":"工具原理","slug":"工具原理","link":"#工具原理","children":[]}]}],"git":{"createdTime":1684256960000,"updatedTime":1719075713000,"contributors":[{"name":"Ezreal","email":"memory_of_you@hotmail.com","commits":2},{"name":"xljiulang","email":"366193849@qq.com","commits":2}]},"readingTime":{"minutes":0.72,"words":215},"filePathRelative":"guide/9_openapi-to-code.md","localizedDate":"2023年5月16日","excerpt":"\\n<p>使用这个工具可以将 OpenApi 的本地或远程文档解析生成 WebApiClientCore 的接口定义代码文件，<code>ASP.NET Core</code> 的 swagger json 文件也适用</p>\\n<h2>安装工具</h2>\\n<div class=\\"language-shell line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"shell\\" data-title=\\"shell\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">dotnet</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> tool</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> WebApiClientCore.OpenApi.SourceGenerator</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -g</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>"}');export{d as comp,o as data};
